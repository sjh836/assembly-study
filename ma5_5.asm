VARY MACRO LAB, COUNT, ARG1, ARG2, ARG3 ; 조건부 매크로
  LAB: ADD AX, ARG1
  IFE COUNT-1
    EXITM
  ENDIF
  ADD BX, ARG2
  IFE COUNT-2
    EXITM
  ENDIF
  ADD CX, ARG3
ENDM

MAIN SEGMENT
ASSUME CS:MAIN, DS:MAIN

MOV AX, MAIN
MOV DS, AX

VARY LOOP1, 3, DATA1, DATA2, DATA3
VARY LOOP2, 2, DATA3, DATA2
VARY LOOP3, 1, DATA1

MOV AH, 4CH
INT 21H

DATA1 DW 5
DATA2 DW 10
DATA3 DW 15

MAIN ENDS
END